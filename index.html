<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Rhonda by peledies</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Help me \Rhonda</h1>
      <h2 class="project-tagline">A composer package that provides solutions to common PHP tasks</h2>
      <a href="https://github.com/peledies/rhonda" class="btn">View on GitHub</a>
      <a href="https://github.com/peledies/rhonda/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/peledies/rhonda/tarball/master" class="btn">Download .tar.gz</a>
        <h2 class="project-tagline">Available Helpers</h2>
        <a href="#rhondaautoload" class="btn">Autoload</a>
        <a href="#rhondauuid" class="btn">UUID</a>
        <a href="#rhondarequest" class="btn">Request</a>
        <a href="#rhondarequestbody" class="btn">RequestBody</a>
        <a href="#rhondasuccess" class="btn">Success</a>
        <a href="#rhondaerror" class="btn">Error</a>
        <a href="#rhondaconfig" class="btn">Config</a>
        <a href="#rhondaapigateway" class="btn">APIGateway</a>
        <a href="#rhondastrings" class="btn">Strings</a>
        <a href="#rhondaheaders" class="btn">Headers</a>
        <a href="#rhondamysql" class="btn">Mysql</a>
        <a href="#rhondaservicechain" class="btn">ServiceChain</a>
        <a href="#rhondacors" class="btn">CORS</a>
        <a href="#rhondaboolean" class="btn">Boolean</a>
        <a href="#rhondagoogle" class="btn">Google</a>
    </section>

    <section class="main-content">
      <h1>
<a id="help-me-rhonda" class="anchor" href="#help-me-rhonda" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Help me \Rhonda</h1>

<p>Rhonda is a composer installable package that provides solutions to common PHP tasks.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>

<div class="highlight highlight-source-shell"><pre>  composer require peledies/rhonda:<span class="pl-k">~</span>1
  composer install</pre></div>

<h2>
<a id="require-in-your-project" class="anchor" href="#require-in-your-project" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Require in your project</h2>

<p>Add the folowing to your composer.json file</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-s"><span class="pl-pds">"</span>require<span class="pl-pds">"</span></span>: {</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">"</span>peledies/rhonda<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>~1<span class="pl-pds">"</span></span></span>
<span class="pl-s1">  }</span></pre></div>

<h1>
<a id="classes-and-methods" class="anchor" href="#classes-and-methods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Classes and Methods</h1>

<h2>
<a id="rhondaautoload" class="anchor" href="#rhondaautoload" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Autoload</h2>

<p>Recursivly load all .php files in the provided path, excludes any index.php files.</p>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path(string)</td>
<td>Path to load all php files recursively</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Autoload</span><span class="pl-k">::</span>path(<span class="pl-c1">__DIR__</span><span class="pl-k">.</span><span class="pl-s"><span class="pl-pds">"</span>/path/to/load/<span class="pl-pds">"</span></span>);</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$load</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Autoload</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$load</span><span class="pl-k">-&gt;</span>path(<span class="pl-c1">__DIR__</span><span class="pl-k">.</span><span class="pl-s"><span class="pl-pds">"</span>/path/to/load/<span class="pl-pds">"</span></span>);</span></pre></div>

<h2>
<a id="rhondauuid" class="anchor" href="#rhondauuid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\UUID</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>create()</td>
<td>Create a new UUID</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">UUID</span><span class="pl-k">::</span>create();</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$uuid</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">UUID</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$uuid</span><span class="pl-k">-&gt;</span>create();</span></pre></div>

<h2>
<a id="rhondarequest" class="anchor" href="#rhondarequest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Request</h2>

<p>Package all incomming request data into a singleton that can be accessed by your 
application. ALL data that goes through <code>packager</code> is automatically mysql_real_eacaped
even array's and objects recursively.</p>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get('param')</td>
<td>Get the provided query string parameter, mysql escaped</td>
</tr>
<tr>
<td>post()</td>
<td>Get the provided request body, mysql escaped</td>
</tr>
</tbody>
</table>

<p>In order to use this class you need to first run the packager right after Rhonda
is included in your project</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Request</span><span class="pl-k">::</span>packager();</span></pre></div>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c"># GET parameters</span></span>
<span class="pl-s1">  <span class="pl-smi">$thing</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Request</span><span class="pl-k">::</span>get();</span></pre></div>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c"># GET specific query string value</span></span>
<span class="pl-s1">  <span class="pl-smi">$thing</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Request</span><span class="pl-k">::</span>get(<span class="pl-s"><span class="pl-pds">'</span>string<span class="pl-pds">'</span></span>);</span></pre></div>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c"># POST body</span></span>
<span class="pl-s1">  <span class="pl-smi">$thing</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Request</span><span class="pl-k">::</span>post();</span></pre></div>

<h2>
<a id="rhondarequestbody" class="anchor" href="#rhondarequestbody" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\RequestBody</h2>

<p>use \Rhonda\Request for a mysql escaped request body</p>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get(boolean)</td>
<td>Get the provided request body, exception can be bypassed by putting TRUE as an argument</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">RequestBody</span><span class="pl-k">::</span>get();</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$request_body</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">RequestBody</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$request_body</span><span class="pl-k">-&gt;</span>get();</span></pre></div>

<p>OR Bypass exception</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$request_body</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">RequestBody</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$request_body</span><span class="pl-k">-&gt;</span>get(<span class="pl-c1">TRUE</span>);</span></pre></div>

<h2>
<a id="rhondasuccess" class="anchor" href="#rhondasuccess" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Success</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>create()</td>
<td>create a uniform success message</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">echo</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Success</span><span class="pl-k">::</span> create();</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$msg</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Success</span>();</span>
<span class="pl-s1">  <span class="pl-c1">echo</span> <span class="pl-smi">$msg</span><span class="pl-k">-&gt;</span>create();</span></pre></div>

<h2>
<a id="rhondaerror" class="anchor" href="#rhondaerror" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Error</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>handle()</td>
<td>Fromat an exception for return. Also writes a pretty stack trace to the error log</td>
</tr>
<tr>
<td>deprecation_warning(<strong>message, alternate route</strong>)</td>
<td>Adds a <code>Warning</code> header and changes the status code to <code>299</code>
</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-k">try</span>{</span>
<span class="pl-s1">    <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-c1">Exception</span>(<span class="pl-s"><span class="pl-pds">"</span>Demo Error Exception<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">  }<span class="pl-k">catch</span>(<span class="pl-c1">\</span><span class="pl-c1">Exception</span> <span class="pl-smi">$e</span>){</span>
<span class="pl-s1">    <span class="pl-c1">echo</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Error</span><span class="pl-k">::</span>handle(<span class="pl-smi">$e</span>);</span>
<span class="pl-s1">  }</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-k">try</span>{</span>
<span class="pl-s1">    <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-c1">Exception</span>(<span class="pl-s"><span class="pl-pds">"</span>Demo Error Exception<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">  }<span class="pl-k">catch</span>(<span class="pl-c1">\</span><span class="pl-c1">Exception</span> <span class="pl-smi">$e</span>){</span>
<span class="pl-s1">    <span class="pl-smi">$error</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Error</span>();</span>
<span class="pl-s1">    <span class="pl-c1">echo</span> <span class="pl-smi">$error</span><span class="pl-k">-&gt;</span>handle(<span class="pl-smi">$e</span>);</span>
<span class="pl-s1">  }</span></pre></div>

<h2>
<a id="rhondaconfig" class="anchor" href="#rhondaconfig" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Config</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>load_file()</td>
<td>Load a JSON file into memory as an object for later retrieval</td>
</tr>
<tr>
<td>load_object()</td>
<td>Load an object into memory for later retrieval</td>
</tr>
<tr>
<td>get()</td>
<td>Retrieve a configuration object from memory</td>
</tr>
</tbody>
</table>

<p>Load Object to memory</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$object</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">stdClass</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$object</span><span class="pl-k">-&gt;</span><span class="pl-smi">thing_1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>something one<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-smi">$object</span><span class="pl-k">-&gt;</span><span class="pl-smi">thing_2</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>something two<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Config</span><span class="pl-k">::</span>load_object(<span class="pl-s"><span class="pl-pds">'</span>test_one<span class="pl-pds">'</span></span>, <span class="pl-smi">$object</span>);</span></pre></div>

<p>Load JSON file to memory</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c">// File path is relative to your project root</span></span>
<span class="pl-s1">  <span class="pl-smi">$config</span><span class="pl-k">-&gt;</span>load_file(<span class="pl-s"><span class="pl-pds">'</span>test_two<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>path/to/file.json<span class="pl-pds">'</span></span>);</span></pre></div>

<p>Retrieve a configuration object from memory</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">\Rhonda\</span><span class="pl-c1">Config</span><span class="pl-k">::</span>get(<span class="pl-s"><span class="pl-pds">'</span>test_one<span class="pl-pds">'</span></span>);</span></pre></div>

<h2>
<a id="rhondaapigateway" class="anchor" href="#rhondaapigateway" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\APIGateway</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>run()</td>
<td>Run a request to an external URL</td>
</tr>
</tbody>
</table>

<p>Make a request to an external address with custom headers and a request body</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">try</span>{</span>
<span class="pl-s1">  <span class="pl-smi">$headers</span> <span class="pl-k">=</span> <span class="pl-c1">array</span>(<span class="pl-s"><span class="pl-pds">"</span>Domain<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span><span class="pl-s"><span class="pl-pds">"</span>domain_1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Authorization<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span><span class="pl-s"><span class="pl-pds">"</span>sometoken<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">  <span class="pl-smi">$data</span> <span class="pl-k">=</span> (<span class="pl-k">object</span>) <span class="pl-c1">array</span>(<span class="pl-s"><span class="pl-pds">"</span>handle<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span><span class="pl-s"><span class="pl-pds">"</span>demo_1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span><span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">  <span class="pl-smi">$api</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">APIGateway</span>(<span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>http://elguapo.eventlink.local/authenticateasdf/<span class="pl-pds">'</span></span>,<span class="pl-smi">$data</span>, <span class="pl-smi">$headers</span>);</span>
<span class="pl-s1">  <span class="pl-smi">$data</span> <span class="pl-k">=</span> <span class="pl-smi">$api</span><span class="pl-k">-&gt;</span>run();</span>
<span class="pl-s1">}<span class="pl-k">catch</span>(<span class="pl-c1">\</span><span class="pl-c1">Exception</span> <span class="pl-smi">$e</span>){</span>
<span class="pl-s1">  <span class="pl-smi">$error</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Error</span>();</span>
<span class="pl-s1">  <span class="pl-c1">echo</span> <span class="pl-smi">$error</span><span class="pl-k">-&gt;</span>handle(<span class="pl-smi">$e</span>);</span>
<span class="pl-s1">}</span></pre></div>

<h2>
<a id="rhondastrings" class="anchor" href="#rhondastrings" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Strings</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong>validate(</strong> <em>type_string, test_string</em> <strong>)</strong>
</td>
<td>Return True/False</td>
</tr>
<tr>
<td>
<strong>validate_or_error(</strong> <em>type_string, test_string</em> <strong>)</strong>
</td>
<td>Return True/False or throws exception</td>
</tr>
<tr>
<td>
<strong>normalize(</strong> <em>string</em> <strong>)</strong>
</td>
<td>Returns normalized string</td>
</tr>
</tbody>
</table>

<h4>
<a id="string-normalization" class="anchor" href="#string-normalization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>String Normalization</h4>

<ul>
<li>Removes non word characters</li>
<li>Converts the string to lowercse</li>
<li>Converts spaces and dashes to underscores</li>
<li>Trims trailing invalid characters</li>
</ul>

<h4>
<a id="validation-types" class="anchor" href="#validation-types" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Validation Types</h4>

<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>'email'</td>
<td>Verifies proper email structure</td>
</tr>
<tr>
<td>'username'</td>
<td>Tests that string only includes a-z 0-9 . - or _</td>
</tr>
</tbody>
</table>

<p><strong>Test that a string is a valid email (without exception)</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">try</span>{</span>
<span class="pl-s1">  <span class="pl-c">// PASS</span></span>
<span class="pl-s1">  <span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>test@test.com<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Strings</span><span class="pl-k">::</span> validate(<span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>,<span class="pl-smi">$string</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// FAIL</span></span>
<span class="pl-s1">  <span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>test@test<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Strings</span><span class="pl-k">::</span> validate(<span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>,<span class="pl-smi">$string</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// Catch will not be invoked</span></span>
<span class="pl-s1">}<span class="pl-k">catch</span>(<span class="pl-c1">\</span><span class="pl-c1">Exception</span> <span class="pl-smi">$e</span>){</span>
<span class="pl-s1">  <span class="pl-c1">echo</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Error</span><span class="pl-k">::</span> handle(<span class="pl-smi">$e</span>);</span>
<span class="pl-s1">}</span></pre></div>

<p><strong>Test that a string is a valid email (with exception)</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">try</span>{</span>
<span class="pl-s1">  <span class="pl-c">// PASS</span></span>
<span class="pl-s1">  <span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>test@test.com<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Strings</span><span class="pl-k">::</span> validate_or_error(<span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>,<span class="pl-smi">$string</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// FAIL</span></span>
<span class="pl-s1">  <span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>test@test<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Strings</span><span class="pl-k">::</span> validate_or_error(<span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>,<span class="pl-smi">$string</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// Catch will be invoked</span></span>
<span class="pl-s1">}<span class="pl-k">catch</span>(<span class="pl-c1">\</span><span class="pl-c1">Exception</span> <span class="pl-smi">$e</span>){</span>
<span class="pl-s1">  <span class="pl-c1">echo</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Error</span><span class="pl-k">::</span> handle(<span class="pl-smi">$e</span>);</span>
<span class="pl-s1">}</span></pre></div>

<p><strong>Normalize a string</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$input</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Some TEST-@#string-#$-!@<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Strings</span><span class="pl-k">::</span> normalize(<span class="pl-smi">$input</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// Returns</span></span>
<span class="pl-s1">  <span class="pl-c1">some_test_string</span></span></pre></div>

<h2>
<a id="rhondaheaders" class="anchor" href="#rhondaheaders" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Headers</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>getallheaders()</td>
<td>Return an Array of all request headers, works for Apache, PHP, and Nginx servers</td>
</tr>
</tbody>
</table>

<p>Retrieve All request headers as an Array</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$headers</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Headers</span><span class="pl-k">::</span> <span class="pl-c1">getallheaders</span>();</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$headers</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Headers</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$headers</span><span class="pl-k">-&gt;</span>getallheaders();</span></pre></div>

<h2>
<a id="rhondamysql" class="anchor" href="#rhondamysql" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Mysql</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>real_escape(<strong>String, Array, Object</strong>)</td>
<td>Escape the thing being passed in by utilizing mysqli and real_escape_string. These methods require a mysql connection so you will need to load a config file into the variable <strong>DB</strong>. real_escape uses <strong>utf-8</strong> as the charset.  When escaping an Array or Object, recursion is used and it will drill through the object/array and escape everything.</td>
</tr>
<tr>
<td>bool_to_string(STRING)</td>
<td>Convert ANY truthy or falsy thing into a '1' or a '0' for mysql query building</td>
</tr>
</tbody>
</table>

<p><strong>Escape a String</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>that's all folks<span class="pl-pds">"</span></span>;</span>
<span class="pl-s1"><span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Mysql</span><span class="pl-k">::</span>real_escape(<span class="pl-smi">$string</span>);</span></pre></div>

<p><strong>Escape an Object</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$object</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\stdClass</span>();</span>
<span class="pl-s1"><span class="pl-smi">$object</span><span class="pl-k">-&gt;</span><span class="pl-smi">thing</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>it's for real<span class="pl-pds">"</span></span>;</span>
<span class="pl-s1"><span class="pl-smi">$object</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Mysql</span><span class="pl-k">::</span>real_escape(<span class="pl-smi">$object</span>);</span></pre></div>

<p><strong>Escape an Array</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$array</span> <span class="pl-k">=</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">   <span class="pl-s"><span class="pl-pds">"</span>ray<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span><span class="pl-s"><span class="pl-pds">"</span>it's escaping arrays<span class="pl-pds">"</span></span></span>
<span class="pl-s1"> , <span class="pl-s"><span class="pl-pds">"</span>ray2<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span><span class="pl-s"><span class="pl-pds">"</span>escape's this one too<span class="pl-pds">"</span></span></span>
<span class="pl-s1">);</span>
<span class="pl-s1"><span class="pl-smi">$array</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Mysql</span><span class="pl-k">::</span>real_escape(<span class="pl-smi">$ray</span>);</span></pre></div>

<p><strong>Convert to Mysql boolean</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$value</span> <span class="pl-k">=</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Mysql</span><span class="pl-k">::</span> bool_to_string(<span class="pl-s"><span class="pl-pds">'</span>true<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">  <span class="pl-k">OR</span></span>
<span class="pl-s1">  <span class="pl-smi">$mysql</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Mysql</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$value</span> <span class="pl-k">=</span> <span class="pl-smi">$mysql</span><span class="pl-k">-&gt;</span>bool_to_string(<span class="pl-s"><span class="pl-pds">'</span>true<span class="pl-pds">'</span></span>);</span></pre></div>

<h2>
<a id="rhondaservicechain" class="anchor" href="#rhondaservicechain" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\ServiceChain</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>register(<code>optional</code>)</td>
<td>Register this application or micro service to the service chain.</td>
</tr>
<tr>
<td>report(<code>Boolean</code>)</td>
<td>Return a string (default) or an Array of the service chain if parameter is set to TRUE</td>
</tr>
</tbody>
</table>

<p>If you are using ServiceChain, <code>register()</code> should be one of the first things you do in your application,
preferably immediately after the composer autoload.</p>

<p>The default behavior of register is to use your config object named <code>system</code> for a property named <code>host</code>.
<code>\Rhonda\ServiceChain:: register()</code> will automatically use that value for the service name.</p>

<p>(Prefered) Register this micro service to the service chain using a config file</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-k">require_once</span> <span class="pl-c1">__DIR__</span> <span class="pl-k">.</span> <span class="pl-s"><span class="pl-pds">'</span>/../vendor/autoload.php<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// Load your configuration file to memory</span></span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Config</span><span class="pl-k">::</span> load_file(<span class="pl-s"><span class="pl-pds">'</span>system<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>path/to/file.json<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// Register your service name</span></span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">ServiceChain</span><span class="pl-k">::</span> register();</span></pre></div>

<p>Register this micro service to the service chain using a parameter</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-k">require_once</span> <span class="pl-c1">__DIR__</span> <span class="pl-k">.</span> <span class="pl-s"><span class="pl-pds">'</span>/../vendor/autoload.php<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// Register your service name</span></span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">ServiceChain</span><span class="pl-k">::</span> register(<span class="pl-s"><span class="pl-pds">'</span>Service-Name<span class="pl-pds">'</span></span>);</span></pre></div>

<p>Get the current service chain state</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c">// "Returns: service1 =&gt; service2 =&gt; etc"</span></span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">ServiceChain</span><span class="pl-k">::</span> report();</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-c">// "Returns: array("service1", "service2", "etc")</span></span>
<span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">ServiceChain</span><span class="pl-k">::</span> report(<span class="pl-c1">TRUE</span>);</span></pre></div>

<h2>
<a id="rhondacors" class="anchor" href="#rhondacors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\CORS</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>allow_headers()</td>
<td>Set headers to allow CORS request</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">CORS</span><span class="pl-k">::</span>allow_headers();</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$cors</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">CORS</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$cors</span><span class="pl-k">-&gt;</span>allow_headers();</span></pre></div>

<h2>
<a id="rhondaboolean" class="anchor" href="#rhondaboolean" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Boolean</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>evaluate(STRING)</td>
<td>Read a string to change to a boolean TRUE/FALSE</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Boolean</span><span class="pl-k">::</span>evaluate(<span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>);</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$boolean</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Boolean</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$boolean</span><span class="pl-k">-&gt;</span>evaluate(<span class="pl-s"><span class="pl-pds">'</span>false<span class="pl-pds">'</span></span>);</span></pre></div>


<h2>
<a id="rhondagoogle" class="anchor" href="#rhondagoogle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>\Rhonda\Google</h2>

<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>geo_code(STRING, ARRAY)</td>
<td>Load and address with Google api key and Array of address parameters</td>
</tr>
<tr>
<td>prepare_query_string(ARRAY)</td>
<td>Prepare a Google Array of address parameters</td>
</tr>
</tbody>
</table>

<h4><b>Get the geo code information for an address</b></h4>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Google</span><span class="pl-k">::</span>geo_code(<span class="pl-s"><span class="pl-pds">'</span>google_api_key<span class="pl-pds">'</span>, array('1600 Amphitheatre Parkway', 'Mountain View', 'CA 94043', 'USA')</span>);</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$google</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Google</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$google</span><span class="pl-k">-&gt;</span>geo_code(<span class="pl-s"><span class="pl-pds">'</span>google_api_key<span class="pl-pds">'</span>, array('1600 Amphitheatre Parkway', 'Mountain View', 'CA 94043', 'USA') </span>);</span></pre></div>

<h4><b>Prepare an array of data for a Google Query String</b></h4>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Google</span><span class="pl-k">::</span>prepare_query_string(<span class="pl-s">array('1600 Amphitheatre Parkway', 'Mountain View', 'CA 94043', 'USA')</span>);</span></pre></div>

<p>OR</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1">  <span class="pl-smi">$google</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\Rhonda\</span><span class="pl-c1">Google</span>();</span>
<span class="pl-s1">  <span class="pl-smi">$google</span><span class="pl-k">-&gt;</span>prepare_query_string(<span class="pl-s">array('1600 Amphitheatre Parkway', 'Mountain View', 'CA 94043', 'USA') </span>);</span></pre></div>




      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/peledies/rhonda">Rhonda</a> is maintained by <a href="https://github.com/peledies">peledies</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
